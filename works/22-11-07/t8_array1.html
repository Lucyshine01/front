<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배열연습1</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  
</head>
<body>
<div class="container">
  <h2>배열 연습1</h2>
  <p>
  </p>
  <hr/>
  <div id="demo"></div>
  <hr/>
</div>
<p><br/></p>
<script>
  'use strict';
  // 배열선언 : new Array();
  const arr1 = new Array(); // java : int[] arr1 = new int[5];
  const fruits = ["사과","배","바나나","딸기","수박"];  // java : String[] fruits = {"사과","배","바나나","딸기","수박"}''
  console.log(fruits);
  document.getElementById("demo").innerHTML = "1. " + fruits + "<br/>";
  document.getElementById("demo").innerHTML += "2. " + fruits.length + "<br/>";
  document.getElementById("demo").innerHTML += "3. " + fruits[0] + "<br/>";
  document.getElementById("demo").innerHTML += "4. " + fruits[fruits.length-1] + "<br/>";
  document.getElementById("demo").innerHTML += "<br/><br/>";
  
  // 향상된 for문
  document.getElementById("demo").innerHTML += "향상된 for문(of : 요소명 추출): <br/>";
  // let cnt = 5;
  for(let fruit of fruits){
    // document.getElementById("demo").innerHTML +=  cnt + '.' + fruit + ' / <br/>';
    document.getElementById("demo").innerHTML +=  fruit + ' / ';
    // cnt++;
  }
  document.getElementById("demo").innerHTML += "<br/><br/>";
  
  document.getElementById("demo").innerHTML += "향상된 for문(in : 인덱스번호): <br/>";
  // let cnt = 5;
  for(let fruit in fruits){
    document.getElementById("demo").innerHTML +=  fruit + ' / ';
  }
  document.getElementById("demo").innerHTML += "<br/><br/>";

  // forEach문 : 객체명,forEach(요소변수, 인덱스, 객체변수(배열명변수));
  fruits.forEach(function() {
    document.getElementById("demo").innerHTML += "값 : "+" / <br/>";
  });

  fruits.forEach((fruit, index, array) => {
    document.getElementById("demo").innerHTML += "값 : "+ fruit +" / <br/>";
  });

  fruits.forEach((fruit, index, array) => {
    document.getElementById("demo").innerHTML += (index+1) + " : "+ fruit +" / <br/>";
  });

  fruits.forEach((fruit, index, array) => {
    document.getElementById("demo").innerHTML += (index+1) + " : " + fruit +" / " + array + "<br/>";
  });
  
  // 일반적으로 요소만 추출할 경우는?
  fruits.forEach((fruit) => {
    document.getElementById("demo").innerHTML += fruit + " / ";
  });
  document.getElementById("demo").innerHTML += "<br/><br/>";
  // 익명함수를 array function으로 변경하여 사용할 수 있다.
  // 객체명.forEach(() => {});
  fruits.forEach((fruit, i) => {
    document.getElementById("demo").innerHTML += (i+1) + " : " + fruit + " / ";
  });
  document.getElementById("demo").innerHTML += "<br/><br/>";
  
  fruits.forEach((fruit, i) =>  document.getElementById("demo").innerHTML += (i+1) + " : " + fruit + " / ");

  document.getElementById("demo").innerHTML += "<br/><br/>";
  
  // 반복문 : for, while, forEach, map
  // map(요소명, 인덱스번호, 배열명)
  document.getElementById("demo").innerHTML += "map 형식 출력<br/>";
  fruits.map(function(fruit, i) {
    document.getElementById("demo").innerHTML += (i+1) + " : " + fruit + " / ";
  });
  document.getElementById("demo").innerHTML += "<br/><br/>";
  fruits.map((fruit, i) => document.getElementById("demo").innerHTML += (i+1) + " : " + fruit + " / ");
  document.getElementById("demo").innerHTML += "<br/><br/>";
  
  /* ------------------------------------------------------ */
  
  // 배열의 요소 삭제(pop(), shift())
  document.getElementById("demo").innerHTML += "배열에 요소를 '추가','삭제'<br/><br/>";
  // 뒤에서부터 추가
  fruits.push("포도");
  document.getElementById("demo").innerHTML += "11 : " + fruits + "<br/><br/>"
  fruits.push("토마토","키위","자두");
  document.getElementById("demo").innerHTML += "12 : " + fruits + "<br/><br/>"
  // 앞에서부터 추가
  fruits.unshift("망고","살구");
  document.getElementById("demo").innerHTML += "13 : " + fruits + "<br/><br/>"
  
  // 뒤에서부터 삭제
  fruits.pop();
  fruits.pop();
  document.getElementById("demo").innerHTML += "14 : " + fruits + "<br/><br/>"

  // 앞에서부터 삭제
  fruits.shift();
  fruits.shift();
  document.getElementById("demo").innerHTML += "15 : " + fruits + "<br/><br/>"
  
  // 특정위치의 요소를 삭제/추가
  // splice(인덱스번호, 요소개수) 인덱스번호부터 요소개수만큼 삭제
  fruits.splice(2, 1);
  document.getElementById("demo").innerHTML += "16 : " + fruits + "<br/><br/>"
  // splice(인덱스번호, 요소개수, 추가시킬항목리스트..) 지정번호에 요소개수만큼삭제하고 그자리에 항목을 추가함
  fruits.splice(2, 1, "자몽","옥수수");
  document.getElementById("demo").innerHTML += "17 : " + fruits + "<br/><br/>"

  // 삭제시키지않고 그자리에 자료를 밀어넣기
  fruits.splice(3, 0, "앵두");
  document.getElementById("demo").innerHTML += "18 : " + fruits + "<br/><br/>"
  
  // 지정요소를 추출 : slice(인덱스번호);
  //(특정위치만 골라서 추출)
  let imsiFruits = fruits.slice(2,3) // 인덱스 2번지 요소를 추출
  document.getElementById("demo").innerHTML += "19 : " + imsiFruits + "<br/><br/>"

  imsiFruits = fruits.slice(2,fruits.length) // 인덱스 2번지 요소에서 마지막 요소까지 모두 추출
  document.getElementById("demo").innerHTML += "20 : " + imsiFruits + "<br/><br/>"
  
  imsiFruits = fruits.slice(2) // 인덱스 2번지 요소에서 마지막 요소까지 모두 추출
  document.getElementById("demo").innerHTML += "21 : " + imsiFruits + "<br/><br/>"
  
  // 두개의 배열을 묶어서 작업 : concat() - 배열결합(배열 합치기)
  // fruits의 요소중, 2번지부터 4번지 앞의 요소까지 추출(즉, 2번지와 3번지의 요소만 추출);
  imsiFruits = fruits.slice(2,4);
  // fruits와 imsiFruits를 결합하여 concatFruits변수에 담으시오.
  let concatFruits = fruits.concat(imsiFruits);

  document.getElementById("demo").innerHTML += "Fruits : " + fruits + "<br/><br/>"
  document.getElementById("demo").innerHTML += "imsiFruits : " + imsiFruits + "<br/><br/>"
  document.getElementById("demo").innerHTML += "22 : " + concatFruits + "<br/><br/>"

  // 배열안의 요소 검색 : indexOf() : 있으면 위치값, 없으면 -1을 반환한다.
  // 배열요소중 '옥수수'가 있으면 인덱스번호를 출력하시오.
  document.getElementById("demo").innerHTML +=  "23 : " + concatFruits.indexOf("옥수수") + "번 인덱스번호<br/>";
  document.getElementById("demo").innerHTML +=  "24 : " + concatFruits.indexOf("옥소소") + "번 인덱스번호<br/>";
  
  // includes() : 해당자료가 있으면 true 없으면 false 출력
  document.getElementById("demo").innerHTML +=  "25 : " + concatFruits.includes("옥수수") + "번 인덱스번호<br/>";
  document.getElementById("demo").innerHTML +=  "26 : " + concatFruits.includes("옥소소") + "번 인덱스번호<br/>";
  
  // lastIndexOf() : 뒤에서부터 검색한다. 있으면 위치값, 없으면 -1을 반환한다.
  // 중복 자료가 있으면 indexOf()는 앞의 자료를 lastIdexOf()는 뒤의 자료의 위치를 가져온다.
  // 중복 검색 가능(둘의 위치값이 같으면 중복이 없음)
  document.getElementById("demo").innerHTML +=  "27 : " + concatFruits.lastIndexOf("옥수수") + "번 인덱스번호<br/>";
  document.getElementById("demo").innerHTML +=  "28 : " + concatFruits.lastIndexOf("옥소소") + "번 인덱스번호<br/>";
  document.getElementById("demo").innerHTML +=  "<br/><br/>";
  
  // filter(요소변수, 인덱스번호) : 지정된 수식으로 배열요소를 걸러서 추출한다.
  fruits.filter(function(item, index) {
    document.getElementById("demo").innerHTML +=  "29 : 인덱스번호 : " + (index+1) + "번 : " + item + "<br/>";
  });
  document.getElementById("demo").innerHTML +=  "<br/><br/>";

  // 잘못된 filter 사용
  // let res = fruits.filter((item, index) => {
  //   index % 2 == 0
  // });

  // Arrow 평션으로 조건 검색
  let res = fruits.filter((item, index) => index % 2 == 0);
  document.getElementById("demo").innerHTML += "29. res : " + res;
</script>
</body>
</html>